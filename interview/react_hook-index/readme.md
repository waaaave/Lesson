- 不能在 if/for 或者其他函数中使用hooks
    可能会导致hooks的执行顺序发生改变，因为React Hooks 内部是通过hooks的调用顺序来区分hooks

    1. 通过手写useState了解react hooks 是通过hooks 的调用顺序来区分那个hook，每调用一次计数+1
    2. useState 返回的[state, setState] 需要通过index来访问 比如那个setState
    3. setState 和生成时的 curIndex 闭包， 所以可以访问到定义时的state对象，并修改

- fiber 
    响应式 + 虚拟DOM + 组件化 + Hooks
    缺点是什么
    - 多个任务
        模板的编译
        虚拟DOM 构建
        组件树的parse （树太深太复杂会长时间占用） 执行时间超出人的感知，就会感知慢 react15之前会有此问题
        更新时 会跨线程
    - 如果不轮询 时间切片会有问题
        以上任务 进程轮询一样 切割成能迭代的小任务就不会卡
    - 前端 js 和渲染 天生是互斥的


    线程  程序执行的最小单元
    进程  程序和上下文环境（内存等） 是分配资源的最小单元
    调度 时间片
    fiber 就是时间切片算法以及架构

- fiber
    1. fiber 架构 通过类似于 CPU 轮询时间片的机制解决虚拟DOM 构建问题（在组件树复杂时太大，原来是递归构建）
    2. 帧率
    3. 用户体验， 不让用户感觉卡顿 在一个帧率前 结束任务 切换到其他的任务 有种并发的感觉
    4. js  任何任务的运行市场要小于1/60秒 不然会觉得卡
    5. 中途无法中断
    6. setState 合并